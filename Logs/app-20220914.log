2022-09-14 14:11:30.953 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:11:51.450 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:11:52.158 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-09-14 14:11:52.202 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (SELECT 1 FROM pg_catalog.pg_class c JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace WHERE c.relname='__EFMigrationsHistory');
2022-09-14 14:11:52.232 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2022-09-14 14:11:52.274 +03:00 [INF] Applying migration '20220914111131_Added first and last names'.
2022-09-14 14:11:52.445 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Lessons"
WHERE "Id" = 'd13912bb-83fa-4eca-8034-3f688df04cba';
2022-09-14 14:11:52.452 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "SubjectJournal"
WHERE "Id" = '1f59d881-85b4-4f1d-bb2e-c37c9c8e9497';
2022-09-14 14:11:52.502 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Teachers" DROP COLUMN "Names";
2022-09-14 14:11:52.505 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Students" DROP COLUMN "Names";
2022-09-14 14:11:52.524 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Teachers" ADD "FirstName" text NOT NULL DEFAULT '';
2022-09-14 14:11:52.536 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Teachers" ADD "LastName" text NOT NULL DEFAULT '';
2022-09-14 14:11:52.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Students" ADD "FirstName" text NOT NULL DEFAULT '';
2022-09-14 14:11:52.541 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Students" ADD "LastName" text NOT NULL DEFAULT '';
2022-09-14 14:11:52.547 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Students" SET "FirstName" = 'Mikhail', "LastName" = 'Mikhaylov'
WHERE "Id" = 1;
2022-09-14 14:11:52.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Students" SET "FirstName" = 'Vasiliy', "LastName" = 'Vasiliev'
WHERE "Id" = 2;
2022-09-14 14:11:52.559 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "SubjectJournal" ("Id", "ClassId", "DateTimeDeleted", "SubjectId", "TeacherId")
VALUES ('584ecaee-908c-4bce-9d92-28579c51b667', 1, NULL, 1, 1);
2022-09-14 14:11:52.563 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Teachers" SET "FirstName" = 'Yana', "LastName" = 'Yanovna'
WHERE "Id" = 1;
2022-09-14 14:11:52.567 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Lessons" ("Id", "BeginDateTime", "DateTimeDeleted", "EndDateTime", "HomeTask", "Marks", "SubjectJournalId")
VALUES ('04d4e13c-73f7-41fc-a693-c490ffd6bf04', TIMESTAMP '2022-09-07T11:10:00', NULL, TIMESTAMP '2022-09-07T11:40:00', 'Draw a picture.', '{}', '584ecaee-908c-4bce-9d92-28579c51b667');
2022-09-14 14:11:52.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20220914111131_Added first and last names', '6.0.8');
2022-09-14 14:13:38.339 +03:00 [INF] Configured endpoint StudentCreateModel, Consumer: SchoolJournal.StudentService.StudentCreateModelConsumer
2022-09-14 14:13:38.569 +03:00 [INF] Configured endpoint StudentDeleteModel, Consumer: SchoolJournal.StudentService.StudentDeleteModelConsumer
2022-09-14 14:13:38.572 +03:00 [INF] Configured endpoint StudentUpdateModel, Consumer: SchoolJournal.StudentService.StudentUpdateModelConsumer
2022-09-14 14:13:38.965 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:13:38.965 +03:00 [INF] Hosting environment: Development
2022-09-14 14:13:38.966 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService
2022-09-14 14:13:41.437 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 14:16:40.503 +03:00 [INF] Application is shutting down...
2022-09-14 14:16:40.640 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
ost:7202
2022-09-14 14:13:59.197 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 14:13:59.198 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:13:59.204 +03:00 [INF] Hosting environment: Development
2022-09-14 14:13:59.204 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 14:13:59.625 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 14:14:00.362 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 748.5707ms
2022-09-14 14:14:00.464 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/swagger-ui-standalone-preset.js - -
2022-09-14 14:14:00.469 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/swagger-ui-bundle.js - -
2022-09-14 14:14:00.750 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-09-14 14:14:00.757 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 293.5526ms
2022-09-14 14:14:00.807 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-09-14 14:14:00.807 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 338.7746ms
2022-09-14 14:14:01.137 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 14:14:01.436 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 298.6747ms
2022-09-14 14:14:10.554 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students - -
2022-09-14 14:14:10.595 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:14:10.650 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:14:10.727 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 64.0157ms
2022-09-14 14:14:10.729 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:14:10.732 +03:00 [WRN] Error constructing handler for request of type MediatR.IRequestHandler`2[SchoolJournal.BusinessLogic.Queries.GetAllStudentsQuery,System.Collections.Generic.List`1[SchoolJournal.Primitives.ClassViewModel]]. Register your handlers with the container. See the samples in GitHub for examples.
2022-09-14 14:14:10.734 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students - - - 500 - application/json 180.4535ms
2022-09-14 14:15:38.339 +03:00 [INF] Application is shutting down...
2022-09-14 14:15:38.471 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 14:18:12.404 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 14:18:12.424 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 14:18:12.535 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 14:18:12.539 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:18:12.541 +03:00 [INF] Hosting environment: Development
2022-09-14 14:18:12.542 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 14:18:13.315 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 14:18:13.883 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 578.2009ms
2022-09-14 14:18:14.549 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 14:18:15.174 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 625.6237ms
2022-09-14 14:18:33.801 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students - -
2022-09-14 14:18:33.837 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:18:33.893 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:18:34.931 +03:00 [INF] Getting all students.
2022-09-14 14:18:37.430 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e02022-09-14 14:19:38.238 +03:00 [INF] Application is shutting down...
2022-09-14 14:19:39.779 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE (s."DateTimeDeleted" IS NULL)
2022-09-14 14:18:39.167 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 5253.1156ms
2022-09-14 14:18:39.171 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:18:39.185 +03:00 [WRN] Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[SchoolJournal.DataAccess.Primitives.Student, SchoolJournal.DataAccess.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[SchoolJournal.Primitives.ClassViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
2022-09-14 14:18:39.268 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students - - - 500 - application/json 5466.3276ms
2022-09-14 14:19:23.288 +03:00 [INF] Application is shutting down...
2022-09-14 14:19:23.419 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 14:20:25.933 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 14:20:25.927 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 14:20:26.050 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 14:20:26.054 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:20:26.054 +03:00 [INF] Hosting environment: Development
2022-09-14 14:20:26.055 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 14:20:26.959 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 14:20:27.577 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 629.1661ms
2022-09-14 14:20:28.063 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 14:20:28.660 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 596.8805ms
2022-09-14 14:20:51.153 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students - -
2022-09-14 14:20:51.184 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:20:51.214 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:20:52.133 +03:00 [INF] Getting all students.
2022-09-14 14:20:54.591 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e02022-09-14 14:22:45.869 +03:00 [INF] Application is shutting down...
2022-09-14 14:22:46.964 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE (s."DateTimeDeleted" IS NULL)
2022-09-14 14:20:56.169 +03:00 [INF] Got all students successfully.
2022-09-14 14:20:56.207 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.StudentViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 14:20:56.261 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 5029.1687ms
2022-09-14 14:20:56.266 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:20:56.275 +03:00 [WRN] A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.FullName.
2022-09-14 14:20:56.340 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students - - - 500 - application/json 5186.9592ms
2022-09-14 14:21:53.880 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Classes - -
2022-09-14 14:21:53.887 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API)'
2022-09-14 14:21:53.901 +03:00 [INF] Route matched with {action = "Get", controller = "Classes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.ClassesController (SchoolJournal.API).
2022-09-14 14:21:53.914 +03:00 [INF] Getting all classes.
2022-09-14 14:21:53.924 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:21:54.132 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-09-14 14:21:54.162 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number", t0."Id", t1."Id", t1."Birthday", t1."ClassId", t1."DateTimeDeleted", t1."FirstName", t1."LastName", t0."Birthday", t0."DateTimeDeleted", t0."FirstName", t0."LastName", t2."Id", t2."ClassId", t2."DateTimeDeleted", t2."SubjectId", t2."TeacherId", t2."Id0", t2."Id1", t2."BeginDateTime", t2."DateTimeDeleted0", t2."EndDateTime", t2."HomeTask", t2."Marks", t2."SubjectJournalId", t2."DateTimeDeleted1", t2."Name"
FROM "Classes" AS c
INNER JOIN (
    SELECT t."Id", t."Birthday", t."DateTimeDeleted", t."FirstName", t."LastName"
    FROM "Teachers" AS t
    WHERE (t."DateTimeDeleted" IS NULL)
) AS t0 ON c."ClassTeacherId" = t0."Id"
LEFT JOIN (
    SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName"
    FROM "Students" AS s
    WHERE (s."DateTimeDeleted" IS NULL)
) AS t1 ON c."Id" = t1."ClassId"
LEFT JOIN (
    SELECT s0."Id", s0."ClassId", s0."DateTimeDeleted", s0."SubjectId", s0."TeacherId", t3."Id" AS "Id0", t4."Id" AS "Id1", t4."BeginDateTime", t4."DateTimeDeleted" AS "DateTimeDeleted0", t4."EndDateTime", t4."HomeTask", t4."Marks", t4."SubjectJournalId", t3."DateTimeDeleted" AS "DateTimeDeleted1", t3."Name"
    FROM "SubjectJournal" AS s0
    INNER JOIN (
        SELECT s1."Id", s1."DateTimeDeleted", s1."Name"
        FROM "Subjects" AS s1
        WHERE (s1."DateTimeDeleted" IS NULL)
    ) AS t3 ON s0."SubjectId" = t3."Id"
    LEFT JOIN (
        SELECT l."Id", l."BeginDateTime", l."DateTimeDeleted", l."EndDateTime", l."HomeTask", l."Marks", l."SubjectJournalId"
        FROM "Lessons" AS l
        WHERE (l."DateTimeDeleted" IS NULL)
    ) AS t4 ON s0."Id" = t4."SubjectJournalId"
    WHERE (s0."DateTimeDeleted" IS NULL)
) AS t2 ON c."Id" = t2."ClassId"
WHERE (c."DateTimeDeleted" IS NULL)
ORDER BY c."Id", t0."Id", t1."Id", t2."Id", t2."Id0"
2022-09-14 14:21:54.223 +03:00 [INF] Got all classes successfully.
2022-09-14 14:21:54.224 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.ClassViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 14:21:54.230 +03:00 [INF] Executed action SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API) in 329.2072ms
2022-09-14 14:21:54.231 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API)'
2022-09-14 14:21:54.231 +03:00 [WRN] A possible object cycle was detected. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32. Consider using ReferenceHandler.Preserve on JsonSerializerOptions to support cycles. Path: $.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Students.Class.Number.
2022-09-14 14:21:54.232 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Classes - - - 500 - application/json 352.4490ms
2022-09-14 14:22:45.874 +03:00 [INF] Application is shutting down...
2022-09-14 14:22:46.075 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 14:23:12.178 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 14:23:12.249 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 14:23:12.308 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 14:23:12.312 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:23:12.313 +03:00 [INF] Hosting environment: Development
2022-09-14 14:23:12.313 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 14:23:13.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 14:23:13.452 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 438.4070ms
2022-09-14 14:23:13.717 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 14:23:14.218 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 500.4809ms
2022-09-14 14:23:18.311 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Classes - -
2022-09-14 14:23:18.337 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API)'
2022-09-14 14:23:18.389 +03:00 [INF] Route matched with {action = "Get", controller = "Classes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.ClassesController (SchoolJournal.API).
2022-09-14 14:23:19.299 +03:00 [INF] Getting all classes.
2022-09-14 14:23:21.692 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:23:22.543 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-09-14 14:23:23.305 +03:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number", t0."Id", t1."Id", t1."Birthday", t1."ClassId", t1."DateTimeDeleted", t1."FirstName", t1."LastName", t0."Birthday", t0."DateTimeDeleted", t0."FirstName", t0."LastName", t2."Id", t2."ClassId", t2."DateTimeDeleted", t2."SubjectId", t2."TeacherId", t2."Id0", t2."Id1", t2."BeginDateTime", t2."DateTimeDeleted0", t2."EndDateTime", t2."HomeTask", t2."Marks", t2."SubjectJournalId", t2."DateTimeDeleted1", t2."Name"
FROM "Classes" AS c
INNER JOIN (
    SELECT t."Id", t."Birthday", t."DateTimeDeleted", t."FirstName", t."LastName"
    FROM "Teachers" AS t
    WHERE (t."DateTimeDeleted" IS NULL)
) AS t0 ON c."ClassTeacherId" = t0."Id"
LEFT JOIN (
    SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName"
    FROM "Students" AS s
    WHERE (s."DateTimeDeleted" IS NULL)
) AS t1 ON c."Id" = t1."ClassId"
LEFT JOIN (
    SELECT s0."Id", s0."ClassId", s0."DateTimeDeleted", s0."SubjectId", s0."TeacherId", t3."Id" AS "Id0", t4."Id" AS "Id1", t4."BeginDateTime", t4."DateTimeDeleted" AS "DateTimeDeleted0", t4."EndDateTime", t4."HomeTask", t4."Marks", t4."SubjectJournalId", t3."DateTimeDeleted" AS "DateTimeDeleted1", t3."Name"
    FROM "SubjectJournal" AS s0
    INNER JOIN (
        SELECT s1."Id", s1."DateTimeDeleted", s1."Name"
        FROM "Subjects" AS s1
        WHERE (s1."DateTimeDeleted" IS NULL)
    ) AS t3 ON s0."SubjectId" = t3."Id"
    LEFT JOIN (
        SELECT l."Id", l."BeginDateTime", l."DateTimeDeleted", l."EndDateTime", l."HomeTask", l."Marks", l."SubjectJournalId"
        FROM "Lessons" AS l
        WHERE (l."DateTimeDeleted" IS NULL)
    ) AS t4 ON s0."Id" = t4."SubjectJournalId"
    WHERE (s0."DateTimeDeleted" IS NULL)
) AS t2 ON c."Id" = t2."ClassId"
WHERE (c."DateTimeDeleted" IS NULL)
ORDER BY c."Id", t0."Id", t1."Id", t2."Id", t2."Id0"
2022-09-14 14:23:23.507 +03:00 [INF] Got all classes successfully.
2022-09-14 14:23:23.547 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.ClassViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 14:23:23.622 +03:00 [INF] Executed action SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API) in 5214.2286ms
2022-09-14 14:23:23.625 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.ClassesController.Get (SchoolJournal.API)'
2022-09-14 14:23:23.728 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Classes - - - 200 - application/json;+charset=utf-8 5417.1489ms
2022-09-14 14:23:35.730 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students - -
2022-09-14 14:23:35.733 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:23:35.743 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:23:35.753 +03:00 [INF] Getting all students.
2022-09-14 14:23:35.761 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:23:35.793 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE (s."DateTimeDeleted" IS NULL)
2022-09-14 14:23:35.802 +03:00 [INF] Got all students successfully.
2022-09-14 14:23:35.803 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.StudentViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 14:23:35.804 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 60.4111ms
2022-09-14 14:23:35.804 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:23:35.805 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students - - - 200 - application/json;+charset=utf-8 74.6445ms
2022-09-14 14:24:22.725 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/1 - -
2022-09-14 14:24:22.732 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:24:22.757 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:24:22.791 +03:00 [INF] Getting student : ID 1.
2022-09-14 14:24:22.930 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:24:23.039 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 14:24:23.050 +03:00 [INF] Got student successfully : ID 1.
2022-09-14 14:24:23.051 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 14:24:23.051 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 293.5086ms
2022-09-14 14:24:23.052 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:24:23.052 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/1 - - - 200 - application/json;+charset=utf-8 327.2025ms
2022-09-14 14:24:26.694 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/4 - -
2022-09-14 14:24:26.694 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:24:26.695 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:24:26.698 +03:00 [INF] Getting student : ID 4.
2022-09-14 14:24:26.699 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:24:26.718 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 14:24:26.721 +03:00 [INF] Got student successfully : ID 4.
2022-09-14 14:24:26.721 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 14:24:26.721 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 24.7ms
2022-09-14 14:24:26.722 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:24:26.722 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/4 - - - 200 - application/json;+charset=utf-8 28.0441ms
2022-09-14 14:25:18.185 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7202/api/Students?id=3 - -
2022-09-14 14:25:18.186 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Delete (SchoolJournal.API)'
2022-09-14 14:25:18.196 +03:00 [INF] Route matched with {action = "Delete", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:25:18.219 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Delete (SchoolJournal.API) in 22.3281ms
2022-09-14 14:25:18.219 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Control2022-09-14 14:25:25.526 +03:00 [INF] Application is shutting down...
2022-09-14 14:25:26.611 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
.IRequestHandler`2[SchoolJournal.BusinessLogic.Commands.DeleteStudentCommand,SchoolJournal.Primitives.StudentViewModel]. Register your handlers with the container. See the samples in GitHub for examples.
2022-09-14 14:25:18.225 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7202/api/Students?id=3 - - - 500 - application/json 39.7969ms
2022-09-14 14:25:25.527 +03:00 [INF] Application is shutting down...
2022-09-14 14:25:25.755 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 14:28:32.150 +03:00 [INF] Configured endpoint StudentCreateModel, Consumer: SchoolJournal.StudentService.StudentCreateModelConsumer
2022-09-14 14:28:32.393 +03:00 [INF] Configured endpoint StudentDeleteModel, Consumer: SchoolJournal.StudentService.StudentDeleteModelConsumer
2022-09-14 14:28:32.395 +03:00 [INF] Configured endpoint StudentUpdateModel, Consumer: SchoolJournal.StudentService.StudentUpdateModelConsumer
2022-09-14 14:28:32.747 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 14:28:32.748 +03:00 [INF] Hosting environment: Development
2022-09-14 14:28:32.748 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService
2022-09-14 14:28:34.877 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 16:36:21.934 +03:00 [ERR] R-FAULT "rabbitmq://localhost/StudentCreateModel" "d8d40000-088e-6c40-0656-08da96561b77" SchoolJournal.Primitives.StudentCreateModel SchoolJournal.StudentService.StudentCreateModelConsumer("00:00:00.8410277")
FluentValidation.ValidationException: Validation failed: 
 -- ClassId: 'Class Id' must be greater than '0'. Severity: Error
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
   at FluentValidation.AbstractValidator`1.RaiseValidationException(ValidationContext`1 context, ValidationResult result) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 510
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 253
   at FluentValidation.AbstractValidator`1.ValidateAsync(ValidationContext`1 context, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 220
   at FluentValidation.DefaultValidatorExtensions.ValidateAndThrowAsync[T](IValidator`1 validator, T instance, CancellationToken cancellationToken) in /Users/jskinner/code/FluentValidation/src/FluentValidation/DefaultValidatorExtensions_Validate.cs:line 72
   at SchoolJournal.StudentService.StudentCreateModelConsumer.Consume(ConsumeContext`1 context) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService/StudentCreateModelConsumer.cs:line 61
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 46
2022-09-14 16:36:55.294 +03:00 [ERR] R-FAULT "rabbitmq://localhost/StudentCreateModel" "d8d40000-088e-6c40-bbea-08da96563090" SchoolJournal.Primitives.StudentCreateModel SchoolJournal.StudentService.StudentCreateModelConsumer("00:00:00.0234633")
FluentValidation.ValidationException: Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
   at FluentValidation.AbstractValidator`1.RaiseValidationException(ValidationContext`1 context, ValidationResult result) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 510
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 253
   at FluentValidation.AbstractValidator`1.ValidateAsync(ValidationContext`1 context, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 220
   at FluentValidation.DefaultValidatorExtensions.ValidateAndThrowAsync[T](IValidator`1 validator, T instance, CancellationToken cancellationToken) in /Users/jskinner/code/FluentValidation/src/FluentValidation/DefaultValidatorExtensions_Validate.cs:line 72
   at SchoolJournal.StudentService.StudentCreateModelConsumer.Consume(ConsumeContext`1 context) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService/StudentCreateModelConsumer.cs:line 61
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 46
2022-09-14 16:37:05.774 +03:00 [ERR] R-FAULT "rabbitmq://localhost/StudentCreateModel" "d8d40000-088e-6c40-ee5c-08da965636d1" SchoolJournal.Primitives.StudentCreateModel SchoolJournal.StudentService.StudentCreateModelConsumer("00:00:00.0086317")
FluentValidation.ValidationException: Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
   at FluentValidation.AbstractValidator`1.RaiseValidationException(ValidationContext`1 context, ValidationResult result) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 510
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 253
   at FluentValidation.AbstractValidator`1.ValidateAsync(ValidationContext`1 context, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 220
   at FluentValidation.DefaultValidatorExtensions.ValidateAndThrowAsync[T](IValidator`1 validator, T instance, CancellationToken cancellationToken) in /Users/jskinner/code/FluentValidation/src/FluentValidation/DefaultValidatorExtensions_Validate.cs:line 72
   at SchoolJournal.StudentService.StudentCreateModelConsumer.Consume(ConsumeContext`1 context) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService/StudentCreateModelConsumer.cs:line 61
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 46
2022-09-14 16:39:21.818 +03:00 [ERR] R-FAULT "rabbitmq://localhost/StudentCreateModel" "d8d40000-088e-6c40-6c2a-08da965687e9" SchoolJournal.Primitives.StudentCreateModel SchoolJournal.StudentService.StudentCreateModelConsumer("00:00:00.0037504")
FluentValidation.ValidationException: Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
   at FluentValidation.AbstractValidator`1.RaiseValidationException(ValidationContext`1 context, ValidationResult result) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 510
   at FluentValidation.AbstractValidator`1.ValidateInternalAsync(ValidationContext`1 context, Boolean useAsync, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 253
   at FluentValidation.AbstractValidator`1.ValidateAsync(ValidationContext`1 context, CancellationToken cancellation) in /Users/jskinner/code/FluentValidation/src/FluentValidation/AbstractValidator.cs:line 220
   at FluentValidation.DefaultValidatorExtensions.ValidateAndThrowAsync[T](IValidator`1 validator, T instance, CancellationToken cancellationToken) in /Users/jskinner/code/FluentValidation/src/FluentValidation/DefaultValidatorExtensions_Validate.cs:line 72
   at SchoolJournal.StudentService.StudentCreateModelConsumer.Consume(ConsumeContext`1 context) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService/StudentCreateModelConsumer.cs:line 61
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 46
2022-09-14 16:39:49.119 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:39:50.178 +03:00 [INF] Executed DbCommand (151ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Birthday", "ClassId", "DateTimeDeleted", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2022-09-14 16:39:51.113 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__entity_Id_0)
LIMIT 1
2022-09-14 16:39:51.165 +03:00 [ERR] R-FAULT "rabbitmq://localhost/StudentCreateModel" "d8d40000-088e-6c40-8a10-08da965696c7" SchoolJournal.Primitives.StudentCreateModel SchoolJournal.StudentService.StudentCreateModelConsumer("00:00:04.3725883")
System.NullReferenceException: Object reference not set to an instance of an object.
   at SchoolJournal.StudentService.StudentCreateModelConsumer.Consume(ConsumeContext`1 context) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService/StudentCreateModelConsumer.cs:line 68
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.DependencyInjection.ScopeConsumerFactory`1.Send[TMessage](ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/DependencyInjection/DependencyInjection/ScopeConsumerFactory.cs:line 22
   at MassTransit.Middleware.ConsumerMessageFilter`2.MassTransit.IFilter<MassTransit.ConsumeContext<TMessage>>.Send(ConsumeContext`1 context, IPipe`1 next) in /_/src/MassTransit/Middleware/ConsumerMessageFilter.cs:line 46
2022-09-14 16:40:36.047 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:40:36.070 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Birthday", "ClassId", "DateTimeDeleted", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2022-09-14 16:40:36.105 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__entity_Id_0)
LIMIT 1
2022-09-14 16:40:36.138 +03:00 [INF] Added new student successfully : ID 7.
2022-09-14 17:15:18.608 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:15:18.719 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Birthday", "ClassId", "DateTimeDeleted", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2022-09-14 17:15:18.735 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__entity_Id_0)
LIMIT 1
2022-09-14 17:15:18.737 +03:00 [INF] Added new student successfully : ID 8.
2022-09-14 17:24:02.754 +03:00 [INF] Application is shutting down...
2022-09-14 17:24:02.991 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
ng controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:30:34.758 +03:00 [INF] Getting student : ID 54.
2022-09-14 14:30:34.759 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:30:34.770 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 14:30:34.772 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 14.7502ms
2022-09-14 14:30:34.773 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:30:34.774 +03:00 [WRN] Student NOT FOUND : ID 54.
2022-09-14 14:30:34.778 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/54 - - - 404 - application/json 21.2609ms
2022-09-14 14:30:36.577 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/5 - -
2022-09-14 14:30:36.577 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:30:36.577 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:30:36.578 +03:00 [INF] Getting student : ID 5.
2022-09-14 14:30:36.579 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:30:36.585 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 14:30:36.586 +03:00 [INF] Got student successfully : ID 5.
2022-09-14 14:30:36.586 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 14:30:36.586 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 8.8115ms
2022-09-14 14:30:36.587 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:30:36.587 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/5 - - - 200 - application/json;+charset=utf-8 10.3836ms
2022-09-14 14:30:40.414 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/3 - -
2022-09-14 14:30:40.423 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:30:40.423 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 14:30:40.426 +03:00 [INF] Getting student : ID 3.
2022-09-14 14:30:40.429 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 14:30:40.446 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 14:30:40.448 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 23.9206ms
2022-09-14 14:30:40.448 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 14:30:40.449 +03:00 [WRN] Student NOT FOUND : ID 3.
2022-09-14 14:30:40.450 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/3 - - - 404 - application/json 35.9095ms
2022-09-14 16:35:42.770 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/3 - -
2022-09-14 16:35:42.787 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:35:42.791 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:35:42.812 +03:00 [INF] Getting student : ID 3.
2022-09-14 16:35:42.830 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:35:43.040 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:35:43.045 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 253.6003ms
2022-09-14 16:35:43.048 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:35:43.049 +03:00 [WRN] Student NOT FOUND : ID 3.
2022-09-14 16:35:43.068 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/3 - - - 404 - application/json 300.5702ms
2022-09-14 16:35:50.004 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/2 - -
2022-09-14 16:35:50.006 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:35:50.006 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:35:50.010 +03:00 [INF] Getting student : ID 2.
2022-09-14 16:35:50.016 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:35:50.030 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:35:50.045 +03:00 [INF] Got student successfully : ID 2.
2022-09-14 16:35:50.048 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 16:35:50.054 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 45.2444ms
2022-09-14 16:35:50.054 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:35:50.055 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/2 - - - 200 - application/json;+charset=utf-8 50.3074ms
2022-09-14 16:36:19.201 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:36:19.205 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:36:19.252 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:36:22.033 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 2780.3366ms
2022-09-14 16:36:22.033 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:36:22.037 +03:00 [WRN] Validation failed: 
 -- ClassId: 'Class Id' must be greater than '0'. Severity: Error
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
2022-09-14 16:36:22.039 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 400 - application/json 2837.6833ms
2022-09-14 16:36:55.233 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:36:55.241 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:36:55.242 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:36:55.299 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 56.5801ms
2022-09-14 16:36:55.299 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:36:55.299 +03:00 [WRN] Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
2022-09-14 16:36:55.301 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 400 - application/json 67.7630ms
2022-09-14 16:37:05.728 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:37:05.729 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:37:05.729 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:37:05.772 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 40.1434ms
2022-09-14 16:37:05.772 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:37:05.773 +03:00 [WRN] Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
2022-09-14 16:37:05.775 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 400 - application/json 46.0782ms
2022-09-14 16:39:21.788 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:39:21.790 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:39:21.790 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:39:21.822 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 31.0994ms
2022-09-14 16:39:21.824 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:39:21.826 +03:00 [WRN] Validation failed: 
 -- Years: 'Years' must be less than or equal to '18'. Severity: Error
2022-09-14 16:39:21.829 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 400 - application/json 41.4340ms
2022-09-14 16:39:46.703 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:39:46.711 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:39:46.727 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:39:51.182 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 4454.7114ms
2022-09-14 16:39:51.183 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:39:51.183 +03:00 [WRN] Object reference not set to an instance of an object.
2022-09-14 16:39:51.184 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 500 - application/json 4481.6257ms
2022-09-14 16:40:35.823 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 16:40:35.827 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:40:35.827 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:40:36.188 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 16:40:36.190 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 362.4258ms
2022-09-14 16:40:36.190 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 16:40:36.190 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 200 - application/json;+charset=utf-8 366.8360ms
2022-09-14 16:41:23.686 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/6 - -
2022-09-14 16:41:23.688 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:23.709 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:41:23.713 +03:00 [INF] Getting student : ID 6.
2022-09-14 16:41:23.720 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:41:23.793 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:41:23.794 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 84.5454ms
2022-09-14 16:41:23.795 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:23.795 +03:00 [WRN] Student NOT FOUND : ID 6.
2022-09-14 16:41:23.796 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/6 - - - 404 - application/json 110.1390ms
2022-09-14 16:41:29.144 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/7 - -
2022-09-14 16:41:29.144 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:29.144 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:41:29.145 +03:00 [INF] Getting student : ID 7.
2022-09-14 16:41:29.145 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:41:29.151 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:41:29.154 +03:00 [INF] Got student successfully : ID 7.
2022-09-14 16:41:29.154 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 16:41:29.154 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 9.7946ms
2022-09-14 16:41:29.154 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:29.155 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/7 - - - 200 - application/json;+charset=utf-8 10.8971ms
2022-09-14 16:41:35.864 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/3 - -
2022-09-14 16:41:35.864 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:35.864 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:41:35.865 +03:00 [INF] Getting student : ID 3.
2022-09-14 16:41:35.866 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:41:35.873 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:41:35.875 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 9.9655ms
2022-09-14 16:41:35.875 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:35.875 +03:00 [WRN] Student NOT FOUND : ID 3.
2022-09-14 16:41:35.878 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/3 - - - 404 - application/json 13.7309ms
2022-09-14 16:41:44.854 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/9 - -
2022-09-14 16:41:44.855 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:44.855 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 16:41:44.855 +03:00 [INF] Getting student : ID 9.
2022-09-14 16:41:44.856 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 16:41:44.862 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 16:41:44.864 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 8.7644ms
2022-09-14 16:41:44.865 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 16:41:44.866 +03:00 [WRN] Student NOT FOUND : ID 9.
2022-09-14 16:41:44.870 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/9 - - - 404 - application/json 15.0925ms
2022-09-14 17:12:57.559 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/Students/9 - -
2022-09-14 17:12:57.563 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:12:57.564 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:12:57.573 +03:00 [INF] Getting student : ID 9.
2022-09-14 17:12:57.579 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:12:57.615 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 17:12:57.620 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 53.6312ms
2022-09-14 17:12:57.620 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:12:57.621 +03:00 [WRN] Student NOT FOUND : ID 9.
2022-09-14 17:12:57.625 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/Students/9 - - - 404 - application/json 65.8805ms
2022-09-14 17:15:18.451 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json 95
2022-09-14 17:15:18.461 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:15:18.473 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:15:18.809 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 17:15:18.812 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 338.4082ms
2022-09-14 17:15:18.812 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:15:18.813 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json 95 - 200 - application/json;+charset=utf-8 361.5613ms
2022-09-14 17:24:02.757 +03:00 [INF] Application is shutting down...
2022-09-14 17:24:03.049 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 17:24:23.702 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 17:24:23.702 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 17:24:24.345 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 17:24:24.352 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 17:24:24.353 +03:00 [INF] Hosting environment: Development
2022-09-14 17:24:24.354 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 17:24:24.540 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 17:24:26.052 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 1542.4067ms
2022-09-14 17:24:53.681 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 17:24:53.688 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 6.3068ms
2022-09-14 17:24:54.086 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 17:24:54.589 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 503.5865ms
2022-09-14 17:25:22.046 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/students - -
2022-09-14 17:25:22.068 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.2022-09-14 17:30:50.424 +03:00 [INF] Application is shutting down...
2022-09-14 17:30:52.954 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
ture System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:25:22.887 +03:00 [INF] Getting all students.
2022-09-14 17:25:25.477 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:25:26.838 +03:00 [INF] Executed DbCommand (115ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE (s."DateTimeDeleted" IS NULL)
2022-09-14 17:25:26.954 +03:00 [INF] Got all students successfully.
2022-09-14 17:25:26.991 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.StudentViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 17:25:27.038 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 4916.2206ms
2022-09-14 17:25:27.043 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:25:27.122 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/students - - - 200 - application/json;+charset=utf-8 5076.8055ms
2022-09-14 17:25:27.157 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/favicon.ico - -
2022-09-14 17:25:27.158 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/favicon.ico - - - 404 0 - 0.8794ms
2022-09-14 17:25:39.127 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 82
2022-09-14 17:25:39.132 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:25:39.157 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:25:39.210 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-09-14 17:25:39.211 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 54.2587ms
2022-09-14 17:25:39.212 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:25:39.212 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 82 - 415 - application/problem+json;+charset=utf-8 85.1512ms
2022-09-14 17:26:32.072 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 85
2022-09-14 17:26:32.073 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:26:32.073 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:26:32.075 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-09-14 17:26:32.075 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 2.1266ms
2022-09-14 17:26:32.075 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:26:32.076 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 85 - 415 - application/problem+json;+charset=utf-8 3.9362ms
2022-09-14 17:27:01.218 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 88
2022-09-14 17:27:01.219 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:27:01.219 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:27:01.220 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2022-09-14 17:27:01.220 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 1.1961ms
2022-09-14 17:27:01.221 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:27:01.221 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students */*;+charset=UTF-8 88 - 415 - application/problem+json;+charset=utf-8 3.1668ms
2022-09-14 17:27:29.733 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/students - -
2022-09-14 17:27:29.734 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:29.734 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get() on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:27:29.737 +03:00 [INF] Getting all students.
2022-09-14 17:27:29.742 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:27:29.759 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE (s."DateTimeDeleted" IS NULL)
2022-09-14 17:27:29.761 +03:00 [INF] Got all students successfully.
2022-09-14 17:27:29.762 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[SchoolJournal.Primitives.StudentViewModel, SchoolJournal.Primitives, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-09-14 17:27:29.762 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 27.3164ms
2022-09-14 17:27:29.762 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:29.763 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/students - - - 200 - application/json;+charset=utf-8 29.6137ms
2022-09-14 17:27:33.432 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/students/1 - -
2022-09-14 17:27:33.432 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:33.439 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:27:33.448 +03:00 [INF] Getting student : ID 1.
2022-09-14 17:27:33.530 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:27:33.601 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 17:27:33.606 +03:00 [INF] Got student successfully : ID 1.
2022-09-14 17:27:33.607 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 17:27:33.607 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 168.0422ms
2022-09-14 17:27:33.607 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:33.608 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/students/1 - - - 200 - application/json;+charset=utf-8 175.9779ms
2022-09-14 17:27:36.194 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/students/8 - -
2022-09-14 17:27:36.195 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:36.195 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:27:36.196 +03:00 [INF] Getting student : ID 8.
2022-09-14 17:27:36.197 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:27:36.201 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 17:27:36.201 +03:00 [INF] Got student successfully : ID 8.
2022-09-14 17:27:36.201 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 17:27:36.202 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 6.8125ms
2022-09-14 17:27:36.202 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:36.202 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/students/8 - - - 200 - application/json;+charset=utf-8 8.1262ms
2022-09-14 17:27:40.522 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/api/students/10 - -
2022-09-14 17:27:40.523 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:40.523 +03:00 [INF] Route matched with {action = "Get", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:27:40.528 +03:00 [INF] Getting student : ID 10.
2022-09-14 17:27:40.529 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:27:40.534 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__request_Id_0)
LIMIT 1
2022-09-14 17:27:40.539 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API) in 15.5398ms
2022-09-14 17:27:40.539 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Get (SchoolJournal.API)'
2022-09-14 17:27:40.543 +03:00 [WRN] Student NOT FOUND : ID 10.
2022-09-14 17:27:40.548 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/api/students/10 - - - 404 - application/json 25.9458ms
2022-09-14 17:30:50.423 +03:00 [INF] Application is shutting down...
2022-09-14 17:30:50.611 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 17:35:12.127 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 17:35:12.155 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 17:35:12.265 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 17:35:12.266 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 17:35:12.266 +03:00 [INF] Hosting environment: Development
2022-09-14 17:35:12.266 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 17:35:13.131 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 17:35:13.760 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 635.1498ms
2022-09-14 17:35:14.517 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 17:35:15.042 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 525.3675ms
2022-09-14 17:37:23.208 +03:00 [INF] Application is shutting down...
2022-09-14 17:37:23.378 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 17:52:33.671 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 17:52:33.671 +03:00 [INF] Now listening on: https://localhost:7202
2022-09-14 17:52:34.136 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 17:52:34.137 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 17:52:34.138 +03:00 [INF] Hosting environment: Development
2022-09-14 17:52:34.138 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 17:52:34.290 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 17:52:34.931 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 200 - text/html;charset=utf-8 643.3831ms
2022-09-14 17:52:35.451 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - -
2022-09-14 17:52:36.208 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 757.5518ms
2022-09-14 17:53:05.446 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json-patch+json 95
2022-09-14 17:53:05.486 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:53:05.559 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:53:36.199 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 30616.2349ms
2022-09-14 17:53:36.202 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:53:36.212 +03:00 [WRN] Timeout waiting for response, RequestId: feff0000-088e-6c40-32e2-08da9660d504
2022-09-14 17:53:36.253 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json-patch+json 95 - 500 - application/json 30806.1117ms
2022-09-14 17:53:40.088 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7202/api/Students application/json-patch+json 95
2022-09-14 17:53:40.095 +03:00 [INF] Executing endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:53:40.096 +03:00 [INF] Route matched with {action = "Post", controller = "Students"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Post(SchoolJournal.Primitives.StudentCreateModel) on controller SchoolJournal.API.Controllers.StudentsController (SchoolJournal.API).
2022-09-14 17:53:40.412 +03:00 [INF] Executing OkObjectResult, writing value of type 'SchoolJournal.Primitives.StudentViewModel'.
2022-09-14 17:53:40.548 +03:00 [INF] Executed action SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API) in 447.7767ms
2022-09-14 17:53:40.549 +03:00 [INF] Executed endpoint 'SchoolJournal.API.Controllers.StudentsController.Post (SchoolJournal.API)'
2022-09-14 17:53:40.549 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7202/api/Students application/json-patch+json 95 - 200 52 application/json;+charset=utf-8 460.6392ms
2022-09-14 17:56:30.600 +03:00 [INF] Application is shutting down...
2022-09-14 17:56:30.777 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
ed" IS NULL)) AND (s."Id" = @__entity_Id_0)
LIMIT 1
2022-09-14 17:53:37.498 +03:00 [INF] Added new student successfully : ID 9.
2022-09-14 17:53:40.285 +03:00 [INF] Entity Framework Core 6.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.6+6fa8f3c27a7c241a66e72a6c09e0b252509215d0' with options: using NodaTime 
2022-09-14 17:53:40.297 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Date), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Students" ("Birthday", "ClassId", "DateTimeDeleted", "FirstName", "LastName")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2022-09-14 17:53:40.336 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__entity_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Birthday", s."ClassId", s."DateTimeDeleted", s."FirstName", s."LastName", t."Id", t."ClassTeacherId", t."DateTimeDeleted", t."Number"
FROM "Students" AS s
INNER JOIN (
    SELECT c."Id", c."ClassTeacherId", c."DateTimeDeleted", c."Number"
    FROM "Classes" AS c
    WHERE (c."DateTimeDeleted" IS NULL)
) AS t ON s."ClassId" = t."Id"
WHERE ((s."DateTimeDeleted" IS NULL)) AND (s."Id" = @__entity_Id_0)
LIMIT 1
2022-09-14 17:53:40.339 +03:00 [INF] Added new student successfully : ID 10.
2022-09-14 17:56:30.601 +03:00 [INF] Application is shutting down...
2022-09-14 17:56:33.632 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
2022-09-14 17:56:37.754 +03:00 [INF] Configured endpoint StudentCreateModel, Consumer: SchoolJournal.StudentService.StudentCreateModelConsumer
2022-09-14 17:56:37.978 +03:00 [INF] Configured endpoint StudentDeleteModel, Consumer: SchoolJournal.StudentService.StudentDeleteModelConsumer
2022-09-14 17:56:37.987 +03:00 [INF] Configured endpoint StudentUpdateModel, Consumer: SchoolJournal.StudentService.StudentUpdateModelConsumer
2022-09-14 17:56:38.646 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 17:56:38.647 +03:00 [INF] Hosting environment: Development
2022-09-14 17:56:38.647 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.StudentService
2022-09-14 17:56:40.791 +03:00 [INF] Bus started: "rabbitmq://localhost/"
2022-09-14 17:58:17.334 +03:00 [INF] Application is shutting down...
2022-09-14 17:58:18.868 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
alhost/"
2022-09-14 17:56:53.358 +03:00 [INF] Now listening on: http://localhost:5285
2022-09-14 17:56:53.363 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-09-14 17:56:53.363 +03:00 [INF] Hosting environment: Development
2022-09-14 17:56:53.363 +03:00 [INF] Content root path: /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/
2022-09-14 17:56:54.107 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7202/swagger/index.html - -
2022-09-14 17:56:54.220 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.Extensions.DependencyInjection.SwaggerGenOptionsExtensions.ConfigureForNodaTime(SwaggerGenOptions config)
   at Program.<>c.<<Main>$>b__0_2(SwaggerGenOptions c) in /Users/eliasa/RiderProjects/SchoolJournal/SchoolJournal.API/Program.cs:line 27
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Swashbuckle.AspNetCore.SwaggerGen.ConfigureSwaggerGeneratorOptions..ctor(IOptions`1 swaggerGenOptionsAccessor, IServiceProvider serviceProvider, IWebHostEnvironment hostingEnv)
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.SwaggerGenServiceCollectionExtensions.<>c.<AddSwaggerGen>b__0_1(IServiceProvider s)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.GetService(IServiceProvider sp, Type type, Type middleware)
   at lambda_method1(Closure , Object , HttpContext , IServiceProvider )
   at Microsoft.AspNetCore.Builder.UseMiddlewareExtensions.<>c__DisplayClass5_1.<UseMiddleware>b__2(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-09-14 17:56:54.482 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7202/swagger/index.html - - - 500 - text/html;+charset=utf-8 360.5953ms
2022-09-14 17:57:04.154 +03:00 [INF] Application is shutting down...
2022-09-14 17:57:04.493 +03:00 [INF] Bus stopped: "rabbitmq://localhost/"
